(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ManualControl"],{"23c6":function(t,e,o){},"2f8e":function(t,e,o){},"6f69":function(t,e,o){"use strict";var n=o("c053"),s=o.n(n);s.a},"7dde":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"homebg",attrs:{id:"ManualControl"}},[o("b-container",{staticStyle:{"max-width":"1400px"}},[o("b-row",{attrs:{"align-h":"center"}},[o("b-col",{staticClass:"m-3 box txtcenter"},[o("teleop")],1),o("b-col",{staticClass:"m-3 box"},[o("displayMap"),o("debugConsole",{attrs:{numRows:"13"}})],1)],1)],1)],1)},s=[],i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"teleop"}},[o("b-container",[o("b-row",{staticStyle:{"justify-content":"center"}},[o("label",{attrs:{for:"robot-speed"}},[o("strong",[t._v("Robot speed")])])]),o("b-row",[o("input",{staticClass:"custom-range mb-2",attrs:{type:"range",min:"15",max:"80",value:"50",id:"robot-speed"}})]),o("b-row",{staticStyle:{"justify-content":"center"}},[o("video",{staticClass:"p-1 bg-dark",attrs:{width:"500px",height:"500px","data-src":"http://localhost:8090/stream?topic=/videostream&quality=80#/",id:"video"}})]),o("b-row",{staticStyle:{"justify-content":"center","margin-top":"4px"}},[o("div",{staticClass:"joystick",attrs:{id:"joystick"}})])],1)],1)},a=[],r=o("e86b"),c=o.n(r),l={name:"teleop",created:function(){this.twist=new c.a.Message({linear:{x:0,y:0,z:0},angular:{x:0,y:0,z:0}}),this.cmdVel=new c.a.Topic({ros:this.$ros,name:"/cmd_vel",messageType:"geometry_msgs/Twist"}),this.cmdVel.advertise()},mounted:function(){this.createJoyStick(),this.initTeleopKeyboard()},destroyed:function(){this.destroyTeleopKeyBoard()},methods:{createJoyStick:function(){var t,e=this;if(null==t){var o=document.getElementById("joystick"),n={zone:o,position:{left:"50%",top:"50%"},mode:"static",size:200,color:"#0066ff",restJoystick:!0};t=nipplejs.create(n),t.on("move",(function(t,o){var n=o.angle.degree-90;n>180&&(n=-(450-o.angle.degree));var s=Math.cos(n/57.29)*o.distance*.005||0,i=Math.sin(n/57.29)*o.distance*.005||0,a=!0;a&&(a=!1,e.moveAction(s,i),setTimeout((function(){a=!0}),50))})),t.on("end",(function(){e.moveAction(0,0)}))}},initTeleopKeyboard:function(){var t=this;t.teleop=new KEYBOARDTELEOP.Teleop({ros:this.$ros,topic:"/cmd_vel"});var e=document.getElementById("robot-speed");t.teleop.scale=e.value/100,e.oninput=function(){t.teleop.scale=e.value/100}},destroyTeleopKeyBoard:function(){var t=document.getElementsByTagName("body")[0];t.removeEventListener("keydown",this.teleop.handleKeyFunction,!1),t.removeEventListener("keyup",this.teleop.handleKeyFunction,!1)},moveAction:function(t,e){void 0!==t&&void 0!==e?(this.twist.linear.x=t,this.twist.angular.z=e):(this.twist.linear.x=0,this.twist.angular.z=0),this.cmdVel.publish(this.twist)}}},d=l,u=(o("6f69"),o("2877")),p=Object(u["a"])(d,i,a,!1,null,"6e184beb",null),m=p.exports,v=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"pb-3",attrs:{id:"navigationMap"}},[o("b-row",{staticClass:"my-1"},[o("b-col",[o("span",{staticStyle:{display:"none"},attrs:{id:"poseToggle"}},[t._v(t._s(t.toggleInitPose))])]),o("b-col",{staticStyle:{"text-align":"end"}})],1),o("b-form-group",{staticClass:"txtcenter mb-0"},[o("label",{attrs:{for:"mapDiv"}},[o("strong",[t._v("Map")])]),o("div",{attrs:{id:"mapDiv","align-h":"center"}})])],1)},f=[],g={name:"navigationMap",data:function(){return{toggleInitPose:!1,toggleMotors:"-"}},methods:{setMotors:function(t){var e,o=this,n=new c.a.ServiceRequest({});"ON"==t?(e=new c.a.Service({ros:this.$ros,name:"/RosAria/enable_motors",serviceType:"std_srvs/Empty"}),e.callService(n,(function(t){console.log(t),o.toggleMotors=!0}))):"OFF"==t?(e=new c.a.Service({ros:this.$ros,name:"/RosAria/disable_motors",serviceType:"std_srvs/Empty"}),e.callService(n,(function(t){console.log(t),o.toggleMotors=!1}))):alert("Could not turn Motors on or off")}},mounted:function(){var t=500,e=400,o=new ROS2D.Viewer({divID:"mapDiv",width:t,height:e});new NAV2D.OccupancyGridClientNav({ros:this.$ros,rootObject:o.scene,viewer:o,withOrientation:!0,serverName:"/move_base",image:"../img/pioneerlxmodel.png"})}},h=g,y=(o("e6e6"),Object(u["a"])(h,v,f,!1,null,"5a11aa78",null)),b=y.exports,w=o("ea4e"),x={name:"ManualControl",components:{teleop:m,displayMap:b,debugConsole:w["a"]}},_=x,C=(o("f277"),Object(u["a"])(_,n,s,!1,null,"64922f0a",null));e["default"]=C.exports},c053:function(t,e,o){},e6e6:function(t,e,o){"use strict";var n=o("2f8e"),s=o.n(n);s.a},f277:function(t,e,o){"use strict";var n=o("23c6"),s=o.n(n);s.a}}]);
//# sourceMappingURL=ManualControl.197ca06e.js.map